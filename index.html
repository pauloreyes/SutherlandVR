<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
		<script src="https://unpkg.com/aframe-event-set-component@5/dist/aframe-event-set-component.min.js"></script>

		<title>Sutherland VR</title>
	</head>
	<body>
		<script>
			AFRAME.registerComponent("mylink", {
				init: function () {
					this.el.addEventListener("click", (e) => {
						window.location = this.data.href;
					});
				},
			});

			AFRAME.registerComponent("audiohandler", {
				init: function () {
					let playing = false;
					let audio = document.querySelector("#Intro");
					this.el.addEventListener("click", () => {
						if (!playing) {
							audio.play();
						} else {
							audio.pause();
							audio.currentTime = 0;
						}
						playing = !playing;
					});
				},
			});
		</script>

		<a-scene loading-screen="dotsColor: #CC3456; backgroundColor: #26235d">
			<a-assets>
				<audio id="Intro" src="./assets/Intro.mp3"></audio>
				<img id="office" src="./assets/Office.jpg" />
				<img id="hallway" src="./assets/hallway_point1.jpeg" />
				<img id="point4" src="./assets/bottom_point4.jpeg" />
				<img id="map1" src="./assets/VR-Map-1.png" />
			</a-assets>

			<!-- <a-plane
				color="red"
				position="-17.5 1.5 -2"
				rotation="0 90 0"
				scale="3 3 1"
				mylink="href: room2.html"
				><a-entity
					text="value: Next scene; color: white; align: center"
					scale="3 3 3"
				></a-entity
			></a-plane> -->

			<a-box
				position="4.320 1.712 -4.455"
				rotation="0 -20 0"
				material="opacity: 0.0; transparent: true"
				scale="1 0.6 0.02"
				mylink="href: 4.html"
			>
				></a-box
			>

			<a-plane color="white" position="2.8 4.1 -5" scale="5 1 0.5" rotation="0 -20 0"
				><a-entity
					text="value: Point the reticle to the area on the map that you want to visit.; color: black; align: center"
					scale="1 2.9 1"
				></a-entity
			></a-plane>

			<a-plane
				color="white"
				position="2.8 2 -5"
				scale="5 3 0.5"
				rotation="0 -20 0"
				src="#map1"
			></a-plane>

			<!-- <a-plane audiohandler color="#26235d" position="2 1.5 -2"
				><a-entity
					text="value: Click me to Start.; color: white; align: center"
					scale="2 2 2"
				></a-entity
			></a-plane> -->

			<a-camera>
				<a-entity
					animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.01 0.01 0.01; to: 0.03 0.03 0.03"
					animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 0.03 0.03 0.03; to: 0.01 0.01 0.01"
					animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 0.03 0.03 0.03"
					cursor="fuse: true;"
					material="color: lightgrey; shader: flat"
					position="0 0 -1"
					geometry="primitive: ring"
				></a-entity>
			</a-camera>

			<!-- <a-sky src="#office" sound="src: #Intro; autoplay: true; volume:0.4"></a-sky> -->
			<a-sky src="#hallway"></a-sky>
		</a-scene>
	</body>
</html>
